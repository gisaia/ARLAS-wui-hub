/*
 * Licensed to Gisaïa under one or more contributor
 * license agreements. See the NOTICE.txt file distributed with
 * this work for additional information regarding copyright
 * ownership. Gisaïa licenses this file to you under
 * the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

@import "variables.scss";

:host {
    position: relative;
}

.collection {
    padding: 5px 10px;
    display: flex;
    flex-direction: column;
    gap: 5px 0;
    &__top {
        position: sticky;
        top: 0px;
        z-index: 1;
        &__content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            border: 1px solid rgba(0, 0, 0, 0.12);
            border-top: none;
            padding: 10px 10px;
            height: 32px;
            font-size: 14px;
            &__btn {
                background-color: white;
            }

            &__actions {
                display: flex;
                gap: 0 5px;
                .delete {
                    border-color: $warnColor;
                }
            }
        }
    }

    &__title {
        &__content {
            width: 642px;
            height: 24px;
            background-color: white;
            border: 1px solid rgba(0, 0, 0, 0.12);
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 0 10px;
            .input-display-name {
                height: 24px !important;
            }
            &__name {
                color: rgba(0, 0, 0, 0.65);
            }
        }
    }

    &__info {
        display: flex;
        flex-direction: row;
        gap: 10px;
        &__visibility,
        &__params {
            background-color: white;
            border: 1px solid rgba(0, 0, 0, 0.12);
            padding: 15px;
            min-width: 300px;
            &__title {
                font-size: 14px;
                font-weight: 500;
                padding: 5px 0 10px;
            }
            &__items {
                display: flex;
                flex-direction: column;
                gap: 10px 0;
                &__item {
                    display: flex;
                    font-size: 14px;
                    justify-content: space-between;
                    align-items: center;
                    gap: 0 10px;
                    .prop {
                        text-transform: lowercase;
                    }
                    .value {
                        .visibility-chip {
                            background-color: unset;
                            border: 1px solid rgba(0, 0, 0, 0.12);
                        }
                        &.shared_orgs {
                            height: 35px;
                            display: flex;
                            align-items: center;
                        }
                    }
                }
            }
        }
    }

    &__fields {
        display: flex;
        flex-direction: column;

        &__title {
            background-color: white;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: 500;
            border: 1px solid rgba(0, 0, 0, 0.12);
            border-bottom: unset;
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            position: sticky;
            top: 52px;
            z-index: 1;
        }

        &__table {
            border: 1px solid rgba(0, 0, 0, 0.12);
            border-top: unset;
            .input-display-name {
                height: 24px !important;
            }
            ::ng-deep .mat-mdc-table thead {
                position: sticky;
                top: 110px;
                z-index: 1;
            }
            .striped-row {
                background-color: rgba(0, 0, 0, 0.03);
            }

            .mat-column-name {
                width: 450px;
            }
            .mat-column-taggable,
            .mat-column-indexed,
            .mat-column-type {
                width: 150px;
            }
        }
    }
    &--loading {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.15);
        z-index: 2;
        display: flex;
        justify-content: center;
        .mat-mdc-progress-spinner {
            position: sticky;
            top: 20%;
        }
    }
    &__advanced {
        border-top: 1px solid #444c56b3;
        margin-top: 50px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 15px 0;
    }
}

/* Spinner button */
@keyframes spinner {
    to {
        transform: rotate(360deg);
    }
}

.spinner::after {
    content: "";
    box-sizing: border-box;
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin-top: -10px;
    margin-left: -10px;
    border-radius: 50%;
    border: 2px solid #ffffff;
    border-top-color: #00bcd4;
    animation: spinner 0.8s linear infinite;
}
